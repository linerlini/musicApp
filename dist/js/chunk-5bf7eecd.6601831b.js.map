{"version":3,"sources":["webpack:///./src/views/user/User.vue?15ce","webpack:///./src/views/user/User.vue?cb53","webpack:///src/views/user/User.vue","webpack:///./src/views/user/User.vue?e214","webpack:///./src/views/user/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticClass","scopedSlots","_u","key","fn","on","$event","stopPropagation","$router","back","proxy","_v","changeSwitch","class","current","switchNumber","currentSongs","songHandle","_l","item","index","_s","name","singerName","join","albumName","staticRenderFns","components","BaseNavBar","Scroll","mixins","props","computed","loveSongs","listenHistory","data","watch","methods","target","classList","handlePlayList","playList","length","$refs","userWrapper","style","bottom","scroll","refresh","$store","dispatch","songList","created","mounted","component"],"mappings":"2IAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,cAAc,CAACF,EAAG,MAAM,CAACG,IAAI,cAAcC,YAAY,gBAAgB,CAACJ,EAAG,eAAe,CAACI,YAAY,UAAUC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,WAAWC,GAAG,WAAW,MAAO,CAACR,EAAG,MAAM,CAACI,YAAY,OAAOK,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBf,EAAIgB,QAAQC,UAAU,CAACb,EAAG,OAAO,CAACI,YAAY,kBAAkBU,OAAM,GAAM,CAACP,IAAI,aAAaC,GAAG,WAAW,MAAO,CAACR,EAAG,KAAK,CAACI,YAAY,aAAa,CAACR,EAAImB,GAAG,kBAAkBD,OAAM,OAAUd,EAAG,MAAM,CAACI,YAAY,UAAUK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIoB,aAAaN,MAAW,CAACV,EAAG,MAAM,CAACI,YAAY,eAAe,CAACR,EAAImB,GAAG,UAAUf,EAAG,MAAM,CAACI,YAAY,kBAAkB,CAACR,EAAImB,GAAG,UAAUf,EAAG,MAAM,CAACI,YAAY,SAASa,MAAM,CAACC,QAA2B,IAAnBtB,EAAIuB,kBAAsBnB,EAAG,MAAM,CAACI,YAAY,WAAW,CAACJ,EAAG,SAAS,CAACG,IAAI,SAASC,YAAY,SAASF,MAAM,CAAC,QAAUN,EAAIwB,eAAe,CAACpB,EAAG,KAAK,CAACI,YAAY,YAAYK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIyB,WAAWX,MAAWd,EAAI0B,GAAI1B,EAAgB,cAAE,SAAS2B,EAAKC,GAAO,OAAOxB,EAAG,KAAK,CAACO,IAAIiB,EAAMpB,YAAY,OAAOF,MAAM,CAAC,aAAasB,IAAQ,CAACxB,EAAG,IAAI,CAACI,YAAY,aAAa,CAACR,EAAImB,GAAGnB,EAAI6B,GAAGF,EAAKG,SAAS1B,EAAG,IAAI,CAACI,YAAY,eAAe,CAACR,EAAImB,GAAGnB,EAAI6B,GAAGF,EAAKI,WAAWC,KAAK,MAAM,IAAIhC,EAAI6B,GAAGF,EAAKM,mBAAkB,MAAM,IAAI,MAC/1CC,EAAkB,G,4DC0CtB,GACEC,WAAY,CACVC,WAAJ,OACIC,OAAJ,QAEEC,OAAQ,CAAC,EAAX,MACEC,MAAO,GACPC,SAAU,OAAZ,OAAY,CAAZ,CACIhB,aADJ,WAEM,OAA6B,IAAtBvB,KAAKsB,aAAqBtB,KAAKwC,UAAYxC,KAAKyC,gBAE7D,gBACA,YACA,mBAGEC,KAhBF,WAiBI,MAAO,CACLpB,aAAc,IAGlBqB,MAAO,GACPC,QAAS,CACPzB,aADJ,SACA,GACM,IAAN,yCACW0B,IAGL7C,KAAKsB,aAAuC,gBAAxBuB,EAAOC,UAAU,GAAuB,EAAI,IAElEC,eARJ,WASmC,IAAzB/C,KAAKgD,SAASC,OAChBjD,KAAKkD,MAAMC,YAAYC,MAAMC,OAAS,MAEtCrD,KAAKkD,MAAMC,YAAYC,MAAMC,OAAS,GAA9C,mCAEMrD,KAAKkD,MAAMI,OAAOC,WAEpB/B,WAhBJ,SAgBA,GACM,IAAN,4BACM,GAAKqB,EAAL,CAFN,IAKA,kBACM7C,KAAKwD,OAAOC,SAAS,+BAAgC,CACnDC,SAAU,CAAC1D,KAAKuB,aAAaI,SAInCgC,QAjDF,aAkDEC,QAlDF,cC3C6V,I,wBCQzVC,EAAY,eACd,EACA/D,EACAmC,GACA,EACA,KACA,WACA,MAIa,aAAA4B,E","file":"js/chunk-5bf7eecd.6601831b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=3aac536e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"user-fade\"}},[_c('div',{ref:\"userWrapper\",staticClass:\"user-wrapper\"},[_c('base-nav-bar',{staticClass:\"nav-bar\",scopedSlots:_vm._u([{key:\"nav-left\",fn:function(){return [_c('div',{staticClass:\"back\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$router.back()}}},[_c('span',{staticClass:\"icon-back\"})])]},proxy:true},{key:\"nav-center\",fn:function(){return [_c('h1',{staticClass:\"user-name\"},[_vm._v(\"linerlinya\")])]},proxy:true}])}),_c('div',{staticClass:\"switchs\",on:{\"click\":function($event){return _vm.changeSwitch($event)}}},[_c('div',{staticClass:\"switch-love\"},[_vm._v(\"我喜欢的\")]),_c('div',{staticClass:\"switch-current\"},[_vm._v(\"最近听的\")]),_c('div',{staticClass:\"border\",class:{current:_vm.switchNumber===1}})]),_c('div',{staticClass:\"content\"},[_c('scroll',{ref:\"scroll\",staticClass:\"scroll\",attrs:{\"dataArr\":_vm.currentSongs}},[_c('ul',{staticClass:\"song-list\",on:{\"click\":function($event){return _vm.songHandle($event)}}},_vm._l((_vm.currentSongs),function(item,index){return _c('li',{key:index,staticClass:\"item\",attrs:{\"data-index\":index}},[_c('p',{staticClass:\"song-name\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"singer-info\"},[_vm._v(_vm._s(item.singerName.join('/'))+\"-\"+_vm._s(item.albumName))])])}),0)])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"user-fade\">\n    <div class=\"user-wrapper\" ref=\"userWrapper\">\n      <base-nav-bar class=\"nav-bar\">\n        <template #nav-left>\n          <div class=\"back\" @click.stop=\"$router.back()\">\n            <span class=\"icon-back\"></span>\n          </div>\n        </template>\n        <template #nav-center>\n          <h1 class=\"user-name\">linerlinya</h1>\n        </template>\n      </base-nav-bar>\n      <div class=\"switchs\" @click=\"changeSwitch($event)\">\n        <div class=\"switch-love\">我喜欢的</div>\n        <div class=\"switch-current\">最近听的</div>\n        <div class=\"border\" :class=\"{current:switchNumber===1}\"></div>\n      </div>\n      <div class=\"content\">\n        <scroll ref=\"scroll\" class=\"scroll\" :dataArr=\"currentSongs\">\n          <ul class=\"song-list\" @click=\"songHandle($event)\">\n            <li\n              v-for=\"(item, index) in currentSongs\"\n              :key=\"index\"\n              :data-index=\"index\"\n              class=\"item\"\n            >\n              <p class=\"song-name\">{{item.name}}</p>\n              <p class=\"singer-info\">{{item.singerName.join('/')}}-{{item.albumName}}</p>\n            </li>\n          </ul>\n        </scroll>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport BaseNavBar from 'components/common/BaseNavBar/BaseNavBar.vue';\nimport Scroll from 'components/common/scroll/Scroll.vue';\nimport setBottom from 'mixin/scaleDomHeight';\nimport { mapState } from 'vuex';\n\nexport default {\n  components: {\n    BaseNavBar,\n    Scroll,\n  },\n  mixins: [setBottom],\n  props: {},\n  computed: {\n    currentSongs() {\n      return this.switchNumber === 0 ? this.loveSongs : this.listenHistory;\n    },\n    ...mapState([\n      'loveSongs',\n      'listenHistory',\n    ]),\n  },\n  data() {\n    return {\n      switchNumber: 0,\n    };\n  },\n  watch: {},\n  methods: {\n    changeSwitch(event) {\n      const target = event.target.closest('[class^=\"switch-\"]');\n      if (!target) {\n        return;\n      }\n      this.switchNumber = target.classList[0] === 'switch-love' ? 0 : 1;\n    },\n    handlePlayList() {\n      if (this.playList.length === 0) {\n        this.$refs.userWrapper.style.bottom = '0px';\n      } else {\n        this.$refs.userWrapper.style.bottom = `${this.miniPlayerHeight}px`;\n      }\n      this.$refs.scroll.refresh();\n    },\n    songHandle(event) {\n      const target = event.target.closest('.item');\n      if (!target) {\n        return;\n      }\n      const { index } = target.dataset;\n      this.$store.dispatch('songModule/changeCurrentSong', {\n        songList: [this.currentSongs[index]],\n      });\n    },\n  },\n  created() {},\n  mounted() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n  @import '~assets/style/variable.scss';\n  @import '~assets/style/mixin.scss';\n  .user-wrapper {\n    position: fixed;\n    top: 0px;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n    background: $color-background;\n    display: flex;\n    flex-direction: column;\n    .nav-bar {\n      .back {\n        height: 100%;\n        padding-left: 16px;\n        display: flex;\n        align-items: center;\n        .icon-back {\n          font-size: $font-size-large-x;\n          color: $color-theme;\n        }\n      }\n      .user-name {\n        font-size: $font-size-large;\n        color: $color-text-d;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n    .switchs {\n      display: flex;\n      padding-bottom: 10px;\n      font-size: $font-size-medium-x;\n      color: $color-text-d;\n      margin-top: 20px;\n      justify-content: space-evenly;\n      position: relative;\n      .border {\n        position: absolute;\n        bottom: 5px;\n        height: 5px;\n        width: 67px;\n        background: $color-theme;\n        border-radius: 999px;\n        left: 23%;\n        transition: .4s transform;\n        &.current {\n          transform: translateX(159px);\n        }\n      }\n    }\n    .content {\n      flex: 1;\n      .scroll {\n        height: 100%;\n        padding: 0 30px;\n        .item {\n          font-size: $font-size-medium;\n          height: 64px;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          .song-name {\n            color: $color-text;\n            margin-bottom: 4px;\n            @include no-wrap;\n          }\n          .singer-info {\n            @include no-wrap;\n            color: $color-text-d;\n          }\n        }\n      }\n    }\n  }\n  .user-fade-enter-active, .user-fade-leave-active {\n    transition: all .4s;\n  }\n  .user-fade-enter, .user-fade-leave-to {\n    transform: translate(100%);\n    opacity: 0;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=3aac536e&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=3aac536e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3aac536e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}