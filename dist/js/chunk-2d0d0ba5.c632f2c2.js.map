{"version":3,"sources":["webpack:///./src/views/singerDetail/SingerDetail.vue?c3d7","webpack:///src/views/singerDetail/SingerDetail.vue","webpack:///./src/views/singerDetail/SingerDetail.vue?bd5b","webpack:///./src/views/singerDetail/SingerDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","songList","name","icon","on","pullingUpHandle","staticRenderFns","components","MusicList","data","id","offset","done","created","$route","params","$router","push","query","src","_getSongListInfo","methods","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,aAAa,CAACE,IAAI,YAAYC,MAAM,CAAC,UAAYP,EAAIQ,SAAS,KAAOR,EAAIS,KAAK,KAAOT,EAAIU,MAAMC,GAAG,CAAC,UAAYX,EAAIY,oBAClNC,EAAkB,G,oECYtB,GACEC,WAAY,CACVC,UAAJ,QAEEC,KAJF,WAKI,MAAO,CACLR,SAAU,GACVS,GAAI,KACJR,KAAM,GACNC,KAAM,GACNQ,OAAQ,EACRC,MAAM,IAGVC,QAdF,WAeSnB,KAAKoB,OAAOC,OAAOL,IACtBhB,KAAKsB,QAAQC,KAAK,CAChBf,KAAM,WAIVR,KAAKgB,GAAKhB,KAAKoB,OAAOC,OAAOL,GAC7BhB,KAAKQ,KAAOR,KAAKoB,OAAOI,MAAMhB,KAC9BR,KAAKS,KAAOT,KAAKoB,OAAOI,MAAMC,IAC9BzB,KAAK0B,oBAEPC,QAAS,CAEP,gBAFJ,WAEA,4JACA,OADA,wDAIA,YAJA,SAKA,6BALA,OAMA,iCANA,8CAQI,iBAVJ,SAUA,0LAEA,gBACA,QACA,WAJA,OAEA,EAFA,OAMA,eACA,yCAPA,mDASA,6BATA,8DCjDqW,I,YCOjWC,EAAY,eACd,EACA9B,EACAc,GACA,EACA,KACA,WACA,MAIa,aAAAgB,E","file":"js/chunk-2d0d0ba5.c632f2c2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('music-list',{ref:\"musicList\",attrs:{\"songLists\":_vm.songList,\"name\":_vm.name,\"icon\":_vm.icon},on:{\"pullingUp\":_vm.pullingUpHandle}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <music-list\n      :songLists=\"songList\"\n      :name=\"name\"\n      :icon=\"icon\"\n      @pullingUp=\"pullingUpHandle\"\n      ref=\"musicList\"\n    />\n</template>\n<script>\nimport MusicList from 'components/content/MusicList.vue';\nimport { getSingerSongList } from 'api/song/song';\n\nexport default {\n  components: {\n    MusicList,\n  },\n  data() {\n    return {\n      songList: [],\n      id: null,\n      name: '',\n      icon: '',\n      offset: 0,\n      done: false,\n    };\n  },\n  created() {\n    if (!this.$route.params.id) {\n      this.$router.push({\n        name: 'singer',\n      });\n    }\n    // 初始化数据\n    this.id = this.$route.params.id;\n    this.name = this.$route.query.name;\n    this.icon = this.$route.query.src;\n    this._getSongListInfo();\n  },\n  methods: {\n    // 上拉获取更多数据\n    async pullingUpHandle() {\n      if (this.done) {\n        return;\n      }\n      this.offset += 1;\n      await this._getSongListInfo(this.offset);\n      this.$refs.musicList.finishPullUp();\n    },\n    async _getSongListInfo(offset) {\n      try {\n        const res = await getSingerSongList({\n          id: this.id,\n          offset,\n        });\n        this.done = !res.more;\n        this.songList = this.songList.concat(res.songList);\n      } catch (err) {\n        console.log('歌曲列表请求失败', err);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingerDetail.vue?vue&type=template&id=587e8204&scoped=true&\"\nimport script from \"./SingerDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./SingerDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"587e8204\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}