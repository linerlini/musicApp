{"version":3,"sources":["webpack:///./src/views/search/children/SearchHistory.vue?f31d","webpack:///./src/assets/js/tool/debounce.js","webpack:///./src/views/search/children/HotSearchList.vue?e9d2","webpack:///./src/views/search/Search.vue?d2d6","webpack:///./src/components/content/BaseSearchBar.vue?e207","webpack:///src/components/content/BaseSearchBar.vue","webpack:///./src/components/content/BaseSearchBar.vue?24fe","webpack:///./src/components/content/BaseSearchBar.vue","webpack:///./src/api/search/search.js","webpack:///./src/views/search/children/HotSearchList.vue?c4fb","webpack:///src/views/search/children/HotSearchList.vue","webpack:///./src/views/search/children/HotSearchList.vue?f97d","webpack:///./src/views/search/children/HotSearchList.vue","webpack:///./src/views/search/children/SearchResultList.vue?cdc8","webpack:///src/views/search/children/SearchResultList.vue","webpack:///./src/views/search/children/SearchResultList.vue?054f","webpack:///./src/views/search/children/SearchResultList.vue","webpack:///./src/views/search/children/SearchHistory.vue?dea8","webpack:///./src/components/common/confirm/BaseConfirm.vue?404b","webpack:///src/components/common/confirm/BaseConfirm.vue","webpack:///./src/components/common/confirm/BaseConfirm.vue?bf08","webpack:///./src/components/common/confirm/BaseConfirm.vue","webpack:///src/views/search/children/SearchHistory.vue","webpack:///./src/views/search/children/SearchHistory.vue?9c30","webpack:///./src/views/search/children/SearchHistory.vue","webpack:///src/views/search/Search.vue","webpack:///./src/views/search/Search.vue?93b6","webpack:///./src/views/search/Search.vue","webpack:///./src/views/search/Search.vue?30fa","webpack:///./src/views/search/children/SearchResultList.vue?22bc","webpack:///./src/api/song/song.js","webpack:///./src/components/common/confirm/BaseConfirm.vue?7112","webpack:///./src/components/content/BaseSearchBar.vue?de5e","webpack:///./src/api/song/song1.js","webpack:///./src/assets/js/class/Song.js"],"names":["debounce","func","time","timeId","args","clearTimeout","setTimeout","call","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","model","value","callback","$$v","query","expression","directives","name","rawName","attrs","shortCut","hotSearch","on","hotSearchHandle","searchHistoryClick","staticRenderFns","$event","clickHandle","place_holder","domProps","$emit","$refs","input","components","prop","event","props","type","String","default","data","watch","computed","methods","target","created","mounted","component","getHotSearch","request","url","res","result","hots","map","item","first","Promise","reject","getSearchResult","keywords","params","songList","song","playList","artist","noResult","songs","slice","Song","extractSongInfo","playLists","id","imgSrc","coverImgUrl","creator","nickname","artists","icon","picUrl","_v","_l","index","key","_s","hotSearchList","Array","emits","getSingerName","_e","getResult","singerName","join","targetUl","targetTitle","_songClickHandle","_artistClickHandle","_playListClickHandle","$store","commit","newSearchHistory","changeCurrentSong","$router","push","obj","src","queryWatcher","$watch","confirm","_m","deleteHistoryAll","showConfirm","confirmText","btnLeftText","btnRightText","leftNode","rightNode","BaseConfirm","searchHistory","state","deleteHistoryV","deleteAllNode","deleteNode","mixins","concat","BaseSearchBar","HotSearchList","SearchResultList","SearchHistroy","Scroll","handlePlayList","length","wrapper","style","bottom","scroll","refresh","val","maxBr","privilege","maxbr","h","br","m","l","albumId","al","albumName","ar","getSingerSongList","options","order","offset","limit","more","getRecommendSongList","playlist","tracks","songIdList","trackIds","getSongDetail","ids","arr","temp","privileges","getSongPlayInfo","lyric","lrc","album","enable","songTime","loved","_getSongTime","resolve","endIndex","lastIndexOf","startIndex","timeString","minutes","parseInt","substr","seconds","milliseconds","totalMilliseconds"],"mappings":"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","file":"js/chunk-5397fc3d.db33f9a5.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistory.vue?vue&type=style&index=0&id=b82cd028&lang=scss&scoped=true&\"","function debounce(func, time) {\n  let timeId;\n  return function targetFunc(...args) {\n    if (timeId) {\n      clearTimeout(timeId);\n      timeId = null;\n    }\n    timeId = setTimeout(() => {\n      func.call(this, ...args);\n    }, time);\n  };\n}\nexport default debounce;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotSearchList.vue?vue&type=style&index=0&id=22827841&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\",staticClass:\"search-wrapper\"},[_c('base-search-bar',{staticClass:\"search-bar\",model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}}),_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"scroll\",staticClass:\"scroll\",attrs:{\"dataArr\":_vm.shortCut}},[_c('hot-search-list',{attrs:{\"hot-search-list\":_vm.hotSearch},on:{\"hot-search-click\":_vm.hotSearchHandle}}),_c('search-histroy',{on:{\"query-change\":_vm.searchHistoryClick}})],1),_c('search-result-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],attrs:{\"query\":_vm.query}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-bar-wrapper\",on:{\"click\":function($event){return _vm.clickHandle($event)}}},[_c('i',{staticClass:\"icon-search\"}),_c('input',{ref:\"input\",staticClass:\"search-content\",attrs:{\"type\":\"text\",\"placeholder\":_vm.place_holder},domProps:{\"value\":_vm.query},on:{\"input\":function($event){return _vm.$emit('change', _vm.$refs.input.value)}}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"icon-dismiss\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-bar-wrapper\" @click=\"clickHandle($event)\">\n    <i class=\"icon-search\"></i>\n    <input\n      type=\"text\"\n      class=\"search-content\"\n      :placeholder=\"place_holder\"\n      :value=\"query\"\n      ref=\"input\"\n      @input=\"$emit('change', $refs.input.value)\"\n    >\n    <i class=\"icon-dismiss\" v-show=\"query\"></i>\n  </div>\n</template>\n\n<script>\nexport default {\n  components: {},\n  model: {\n    prop: 'query',\n    event: 'change',\n  },\n  props: {\n    query: {\n      type: String,\n      default: '',\n    },\n    place_holder: {\n      type: String,\n      default: '搜索歌曲、歌手',\n    },\n  },\n  data() {\n    return {\n    };\n  },\n  watch: {},\n  computed: {},\n  methods: {\n    clickHandle(event) {\n      const target = event.target.closest('.icon-dismiss');\n      if (!target) {\n        return;\n      }\n      this.$emit('change', '');\n    },\n  },\n  created() {\n  },\n  mounted() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n  @import '~assets/style/variable.scss';\n  .search-bar-wrapper {\n    height: 40px;\n    border-radius: 6px;\n    padding: 0 6px;\n    background: $color-highlight-background;\n    display: flex;\n    align-items: center;\n    .icon-search {\n      font-size: 24px;\n      color: $color-background;\n    }\n    .search-content {\n      flex: 1;\n      line-height: 18px;\n      font-size: $font-size-medium;\n      color: $color-text;\n      background: $color-highlight-background;\n      margin: 0 5px;\n      outline: none;\n      &::placeholder {\n        color: $color-text-d;\n      }\n    }\n    .icon-dismiss {\n      font-size: 16px;\n      color: $color-background;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSearchBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSearchBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseSearchBar.vue?vue&type=template&id=150e46ba&scoped=true&\"\nimport script from \"./BaseSearchBar.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseSearchBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseSearchBar.vue?vue&type=style&index=0&id=150e46ba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"150e46ba\",\n  null\n  \n)\n\nexport default component.exports","import request from 'assets/js/network';\nimport Song from 'assets/js/class/Song';\nimport { extractSongInfo } from '../song/song';\n\nasync function getHotSearch() {\n  try {\n    const res = await request({\n      url: '/search/hot',\n    });\n    return res.result.hots.map((item) => item.first);\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nasync function getSearchResult(keywords) {\n  try {\n    const res = await request({\n      url: '/search',\n      params: {\n        keywords,\n        type: 1018,\n      },\n    });\n    const { song: songList, playList, artist } = res.result;\n    const result = {};\n    result.noResult = true;\n    if (songList) {\n      result.songs = songList.songs.slice(0, 4).map((item) => new Song(extractSongInfo(item)));\n      result.noResult = false;\n    }\n    if (playList) {\n      result.playList = playList.playLists.slice(0, 4).map((item) => ({\n        id: item.id,\n        name: item.name,\n        imgSrc: item.coverImgUrl,\n        creator: item.creator.nickname,\n      }));\n      result.noResult = false;\n    }\n    if (artist) {\n      result.artists = artist.artists.slice(0, 4).map((item) => ({\n        id: item.id,\n        name: item.name,\n        icon: item.picUrl,\n      }));\n      result.noResult = false;\n    }\n    return result;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nexport {\n  getHotSearch,\n  getSearchResult,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hot-search-wrapper\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_c('ul',{staticClass:\"list\",on:{\"click\":function($event){return _vm.clickHandle($event)}}},_vm._l((_vm.hotSearchList),function(item,index){return _c('li',{key:index,staticClass:\"item\",attrs:{\"data-index\":index}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"hot-search-wrapper\">\n    <h2 class=\"title\">热门搜索</h2>\n    <ul class=\"list\" @click=\"clickHandle($event)\">\n      <li\n        class=\"item\"\n        v-for=\"(item, index) in hotSearchList\"\n        :key=\"index\"\n        :data-index=\"index\"\n      >\n        {{item}}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  components: {},\n  props: {\n    hotSearchList: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n    };\n  },\n  watch: {},\n  computed: {},\n  methods: {\n    clickHandle(event) {\n      const target = event.target.closest('.item');\n      if (!target) {\n        return;\n      }\n      const { index } = target.dataset;\n      this.$emit('hot-search-click', this.hotSearchList[index]);\n    },\n  },\n  created() {},\n  mounted() {},\n  emits: ['hot-search-click'],\n};\n</script>\n<style lang=\"scss\" scoped>\n  @import '~assets/style/variable.scss/';\n\n  .hot-search-wrapper {\n    margin-bottom: 20px;\n    .title {\n      font-size: $font-size-medium;\n      color: $color-text-l;\n      margin-bottom: 20px;\n    }\n    .list {\n      .item {\n        background: $color-highlight-background;\n        padding: 5px 10px;\n        font-size: $font-size-medium;\n        color: $color-text-d;\n        border-radius: 6px;\n        display: inline-block;\n        margin: 0 20px 10px 0;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotSearchList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotSearchList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HotSearchList.vue?vue&type=template&id=22827841&scoped=true&\"\nimport script from \"./HotSearchList.vue?vue&type=script&lang=js&\"\nexport * from \"./HotSearchList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HotSearchList.vue?vue&type=style&index=0&id=22827841&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22827841\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-result-wrapper\",on:{\"click\":function($event){return _vm.clickHandle($event)}}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"按\"),_c('span',[_vm._v(\"\\\"\"+_vm._s(_vm.query)+\"\\\"\")]),_vm._v(\"相关的结果\")]),(_vm.result.songs)?_c('div',{staticClass:\"songs list\"},[_c('h2',{staticClass:\"type-title\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-song\"}})]),_vm._v(\" 单曲 \")]),_c('ul',{staticClass:\"items\"},_vm._l((_vm.result.songs),function(item,index){return _c('li',{key:index,staticClass:\"item\",attrs:{\"data-index\":index}},[_vm._v(\" \"+_vm._s(item.name)+\"-\"+_vm._s(_vm.getSingerName(item))+\" \")])}),0)]):_vm._e(),(_vm.result.artists)?_c('div',{staticClass:\"artists list\"},[_c('h2',{staticClass:\"type-title\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-yonghu\"}})]),_vm._v(\" 歌手 \")]),_c('ul',{staticClass:\"items\"},_vm._l((_vm.result.artists),function(item,index){return _c('li',{key:index,staticClass:\"item\",attrs:{\"data-index\":index}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)]):_vm._e(),(_vm.result.playList)?_c('div',{staticClass:\"play-list list\"},[_c('h2',{staticClass:\"type-title\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-gedan\"}})]),_vm._v(\" 歌单 \")]),_c('ul',{staticClass:\"items\"},_vm._l((_vm.result.playList),function(item,index){return _c('li',{key:index,staticClass:\"item\",attrs:{\"data-index\":index}},[_vm._v(\" \"+_vm._s(item.name)+\"-\"+_vm._s(item.creator)+\" \")])}),0)]):_vm._e(),(_vm.result.noResult)?_c('div',{staticClass:\"no-result\"},[_c('div',{staticClass:\"back\"}),_c('p',[_vm._v(\"抱歉，暂无搜索结果\")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-result-wrapper\"  @click=\"clickHandle($event)\">\n    <h2 class=\"title\">按<span>\"{{query}}\"</span>相关的结果</h2>\n    <div class=\"songs list\" v-if=\"result.songs\">\n      <h2 class=\"type-title\">\n        <svg class=\"icon\" aria-hidden=\"true\">\n          <use  xlink:href=\"#icon-song\"></use>\n        </svg>\n        单曲\n      </h2>\n      <ul class=\"items\">\n        <li\n          class=\"item\"\n          v-for=\"(item, index) in result.songs\"\n          :key=\"index\"\n          :data-index=\"index\"\n        >\n          {{item.name}}-{{getSingerName(item)}}\n        </li>\n      </ul>\n    </div>\n    <div class=\"artists list\" v-if=\"result.artists\">\n      <h2 class=\"type-title\">\n        <svg class=\"icon\" aria-hidden=\"true\">\n          <use  xlink:href=\"#icon-yonghu\"></use>\n        </svg>\n        歌手\n      </h2>\n      <ul class=\"items\">\n        <li\n          class=\"item\"\n          v-for=\"(item, index) in result.artists\"\n          :key=\"index\"\n          :data-index=\"index\"\n        >\n          {{item.name}}\n        </li>\n      </ul>\n    </div>\n    <div class=\"play-list list\" v-if=\"result.playList\">\n      <h2 class=\"type-title\">\n        <svg class=\"icon\" aria-hidden=\"true\">\n          <use  xlink:href=\"#icon-gedan\"></use>\n        </svg>\n        歌单\n      </h2>\n      <ul class=\"items\">\n        <li\n          class=\"item\"\n          v-for=\"(item, index) in result.playList\"\n          :key=\"index\"\n          :data-index=\"index\"\n        >\n          {{item.name}}-{{item.creator}}\n        </li>\n      </ul>\n    </div>\n    <div class=\"no-result\" v-if=\"result.noResult\">\n      <div class=\"back\"></div>\n      <p>抱歉，暂无搜索结果</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport debounce from 'assets/js/tool/debounce';\nimport { getSearchResult } from 'api/search/search';\nimport { createNamespacedHelpers } from 'vuex';\nimport { saveSearch } from 'assets/js/tool/cache';\n\nconst { mapActions } = createNamespacedHelpers('songModule');\n\nexport default {\n  components: {},\n  props: {\n    query: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      result: {\n        songs: [],\n        playList: [],\n        artists: [],\n      },\n    };\n  },\n  computed: {},\n  methods: {\n    getResult() {\n      if (!this.query) {\n        return;\n      }\n      getSearchResult(this.query)\n        .then((res) => {\n          this.result = res;\n        })\n        .catch((err) => {\n          console.log('search result get fail: ', err);\n        });\n    },\n    getSingerName(item) {\n      return item.singerName.join('/');\n    },\n    clickHandle(event) {\n      const targetUl = event.target.closest('.items');\n      const targetTitle = event.target.closest('.type-title');\n      if (!targetUl && targetTitle) {\n        return;\n      }\n      const type = targetUl.closest('.list').classList[0];\n      const { index } = event.target.closest('.item').dataset;\n      if (type === 'songs') {\n        this._songClickHandle(index);\n      } else if (type === 'artists') {\n        this._artistClickHandle(index);\n      } else {\n        this._playListClickHandle(index);\n      }\n      const newSearchHistory = saveSearch(this.query);\n      this.$store.commit('setSearchHistory', newSearchHistory);\n    },\n    _songClickHandle(index) {\n      this.changeCurrentSong({\n        songList: [this.result.songs[index]],\n      });\n    },\n    _artistClickHandle(index) {\n      const obj = this.result.artists[index];\n      this.$router.push({\n        name: 'singerDetail',\n        params: {\n          id: obj.id,\n        },\n        query: {\n          src: obj.icon,\n          name: obj.name,\n        },\n      });\n    },\n    _playListClickHandle(index) {\n      const obj = this.result.playList[index];\n      this.$router.push({\n        name: 'songListDetail',\n        params: {\n          id: obj.id,\n        },\n        query: {\n          name: obj.name,\n          imgSrc: obj.imgSrc,\n        },\n      });\n    },\n    ...mapActions([\n      'changeCurrentSong',\n    ]),\n  },\n  created() {\n    this.queryWatcher = this.$watch('query', debounce(this.getResult, 500));\n  },\n  mounted() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n  @import '~assets/style/variable.scss';\n  @import '~assets/style/mixin.scss';\n  .search-result-wrapper {\n    flex: 1;\n    width: 100%;\n    .title {\n      font-size: $font-size-medium;\n      color: $color-text-l;\n      margin-bottom: 20px;\n    }\n    .list {\n      .type-title {\n        font-size: $font-size-medium;\n        color: $color-text-l;\n        background: $color-highlight-background;\n        line-height: 25px;\n        padding-left: 10px;\n      }\n      .items {\n        padding-left: 30px;\n        font-size: $font-size-medium;\n        color: $color-text-d;\n        line-height: 24px;\n        .item {\n          @include no-wrap;\n        }\n      }\n    }\n    .no-result {\n      margin: 0 auto;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      .back {\n        background: top center/100% no-repeat;\n        @include bg-image('no-result');\n        height: 90px;\n      }\n      p {\n        margin-top: 30px;\n        font-size: $font-size-medium;\n        color: $color-text-d;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResultList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResultList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResultList.vue?vue&type=template&id=5c2a35e8&scoped=true&\"\nimport script from \"./SearchResultList.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResultList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResultList.vue?vue&type=style&index=0&id=5c2a35e8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c2a35e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-result-wrapper\",on:{\"click\":function($event){_vm.confirm($event), _vm.clickHandle($event)}}},[_vm._m(0),_c('div',{staticClass:\"list\"},_vm._l((_vm.searchHistory),function(item,index){return _c('div',{key:index,staticClass:\"item\",attrs:{\"data-index\":index}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item))]),_c('span',{staticClass:\"icon-delete\"})])}),0),_c('base-confirm',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showConfirm),expression:\"showConfirm\"}],on:{\"confirm\":_vm.deleteHistoryAll,\"cancel\":function($event){_vm.showConfirm=false}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_c('span',{staticClass:\"icon-clear\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"confirm\"}},[_c('div',{staticClass:\"confirm-wrapper\"},[_c('div',{staticClass:\"confirm-content\",on:{\"click\":function($event){return _vm.clickHandle($event)}}},[_c('p',{staticClass:\"confirm-text\"},[_vm._v(_vm._s(_vm.confirmText))]),_c('div',{staticClass:\"operators\"},[_c('div',{staticClass:\"btn-left\"},[_vm._v(_vm._s(_vm.btnLeftText))]),_c('div',{staticClass:\"btn-right\"},[_vm._v(_vm._s(_vm.btnRightText))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"confirm\">\n    <div class=\"confirm-wrapper\">\n      <div class=\"confirm-content\" @click=\"clickHandle($event)\">\n        <p class=\"confirm-text\">{{confirmText}}</p>\n        <div class=\"operators\">\n          <div class=\"btn-left\">{{btnLeftText}}</div>\n          <div class=\"btn-right\">{{btnRightText}}</div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  components: {},\n  props: {\n    confirmText: {\n      type: String,\n      default: 'are you sure?',\n    },\n    btnLeftText: {\n      type: String,\n      default: 'OK',\n    },\n    btnRightText: {\n      type: String,\n      default: 'CANCEL',\n    },\n  },\n  watch: {},\n  computed: {},\n  methods: {\n    clickHandle(event) {\n      const leftNode = event.target.closest('.btn-left');\n      const rightNode = event.target.closest('.btn-right');\n      if (!leftNode && !rightNode) {\n        return;\n      }\n      if (leftNode) {\n        this.$emit('confirm');\n      } else {\n        this.$emit('cancel');\n      }\n    },\n  },\n  created() {},\n  mounted() {},\n  emits: ['confirm', 'cancel'],\n};\n</script>\n<style lang=\"scss\" scoped>\n  @import '~assets/style/variable.scss';\n  .confirm-wrapper {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    z-index: 998;\n    background: $color-background-d;\n    .confirm-content {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      z-index: 999;\n      width: 270px;\n      border-radius: 13px;\n      background: $color-highlight-background;\n      .confirm-text {\n        font-size: $font-size-large;\n        text-align: center;\n        line-height: 22px;\n        padding: 19px 0px;\n        color: $color-text-l;\n      }\n      .operators {\n        font-size: $font-size-large;\n        color: $color-text-d;\n        display: flex;\n        text-align: center;\n        line-height: 22px;\n        > div {\n          padding: 10px 0px;\n          flex: 1;\n          border-top: 1px solid $color-background-d;\n        }\n        > div:first-child {\n          border-right: 1px solid $color-background;\n        }\n      }\n    }\n  }\n  .confirm-enter-active {\n    transition: .3s;\n  }\n  .confirm-enter {\n    opacity: 0;\n    .confirm-content {\n      animation: fangfa .3s\n    }\n  }\n  .confirm-enter-to {\n    opacity: 1;\n  }\n  @keyframes fangda {\n    0% {\n      transform: scale(0);\n    }\n    50% {\n      transform: scale(1.2);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseConfirm.vue?vue&type=template&id=1acaf001&scoped=true&\"\nimport script from \"./BaseConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseConfirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseConfirm.vue?vue&type=style&index=0&id=1acaf001&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1acaf001\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"search-result-wrapper\"  @click=\"confirm($event), clickHandle($event)\">\n    <h2 class=\"title\">\n      <span class=\"text\">搜索历史</span>\n      <span class=\"icon-clear\"></span>\n    </h2>\n    <div class=\"list\">\n      <div\n        class=\"item\"\n        v-for=\"(item, index) in searchHistory\"\n        :key=\"index\"\n        :data-index=\"index\"\n      >\n        <span class=\"text\">{{item}}</span>\n        <span class=\"icon-delete\"></span>\n      </div>\n    </div>\n    <base-confirm v-show=\"showConfirm\" @confirm=\"deleteHistoryAll\" @cancel=\"showConfirm=false\"/>\n  </div>\n</template>\n\n<script>\nimport { deleteHistory } from 'assets/js/tool/cache';\nimport BaseConfirm from 'components/common/confirm/BaseConfirm.vue';\n\nexport default {\n  components: {\n    BaseConfirm,\n  },\n  data() {\n    return {\n      showConfirm: false,\n    };\n  },\n  props: {},\n  watch: {},\n  computed: {\n    searchHistory() {\n      return this.$store.state.searchHistory;\n    },\n  },\n  methods: {\n    clickHandle(event) {\n      const target = event.target.closest('.text');\n      if (!target) {\n        return;\n      }\n      const { index } = target.closest('.item').dataset;\n      this.$emit('query-change', this.searchHistory[index]);\n    },\n    deleteHistoryV(deleteNode) {\n      const query = deleteNode.closest('.item').children[0].innerText;\n      const res = deleteHistory(query);\n      this.$store.commit('setSearchHistory', res);\n    },\n    confirm(event) {\n      const deleteAllNode = event.target.closest('.icon-clear');\n      const deleteNode = event.target.closest('.icon-delete');\n      if (!deleteAllNode && !deleteNode) {\n        return;\n      }\n      if (deleteNode) {\n        this.deleteHistoryV(deleteNode);\n      } else {\n        this.showConfirm = true;\n      }\n    },\n    deleteHistoryAll() {\n      const res = deleteHistory(undefined, true);\n      this.$store.commit('setSearchHistory', res);\n      this.showConfirm = false;\n    },\n  },\n  mounted() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n  @import '~assets/style/variable.scss';\n  @import '~assets/style/mixin.scss';\n  .search-result-wrapper {\n    .title {\n      font-size: $font-size-medium;\n      color: $color-text-l;\n      display: flex;\n      height: 40px;\n      align-items: center;\n      .text {\n        flex: 1;\n      }\n    }\n    .list {\n      font-size: $font-size-medium;\n      color: $color-text-d;\n      .item {\n        height: 35px;\n        display: flex;\n        align-items: center;\n        .text {\n          flex: 1;\n          @include no-wrap;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHistory.vue?vue&type=template&id=b82cd028&scoped=true&\"\nimport script from \"./SearchHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchHistory.vue?vue&type=style&index=0&id=b82cd028&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b82cd028\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"search-wrapper\" ref=\"wrapper\">\n    <base-search-bar class=\"search-bar\" v-model=\"query\"/>\n    <scroll ref=\"scroll\" class=\"scroll\" :dataArr=\"shortCut\" v-show=\"!query\">\n      <hot-search-list\n        :hot-search-list=\"hotSearch\"\n        @hot-search-click=\"hotSearchHandle\"\n      />\n      <search-histroy @query-change=\"searchHistoryClick\"/>\n    </scroll>\n    <search-result-list :query=\"query\" v-show=\"query\"/>\n  </div>\n</template>\n<script>\nimport setBottom from 'mixin/scaleDomHeight';\nimport BaseSearchBar from 'components/content/BaseSearchBar.vue';\nimport Scroll from 'components/common/scroll/Scroll.vue';\nimport { getHotSearch } from 'api/search/search';\nimport HotSearchList from './children/HotSearchList.vue';\nimport SearchResultList from './children/SearchResultList.vue';\nimport SearchHistroy from './children/SearchHistory.vue';\n\nexport default {\n  mixins: [setBottom],\n  data() {\n    return {\n      query: '',\n      hotSearch: [],\n    };\n  },\n  computed: {\n    shortCut() {\n      return this.hotSearch.concat(this.searchHistory);\n    },\n    searchHistory() {\n      return this.$store.state.searchHistory;\n    },\n  },\n  components: {\n    BaseSearchBar,\n    HotSearchList,\n    SearchResultList,\n    SearchHistroy,\n    Scroll,\n  },\n  methods: {\n    handlePlayList() {\n      if (this.playList.length === 0) {\n        this.$refs.wrapper.style.bottom = '0px';\n      } else {\n        this.$refs.wrapper.style.bottom = `${this.miniPlayerHeight}px`;\n      }\n      this.$refs.scroll.refresh();\n    },\n    hotSearchHandle(query) {\n      this.query = query;\n    },\n    searchHistoryClick(val) {\n      this.query = val;\n    },\n  },\n  created() {\n    getHotSearch()\n      .then((res) => {\n        this.hotSearch = res;\n      })\n      .catch((err) => {\n        console.log('hot search get fail:', err);\n      });\n  },\n  watch: {\n    query() {\n      this.$refs.scroll.refresh();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n  .search-wrapper {\n    position: fixed;\n    top: 88px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    padding: 0 20px;\n    display: flex;\n    flex-direction: column;\n    .scroll {\n      width: 100%;\n      flex: 1;\n    }\n    .search-bar {\n      margin: 20px 0px;\n      flex: 0 0 40px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=3612026a&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=3612026a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3612026a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=3612026a&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResultList.vue?vue&type=style&index=0&id=5c2a35e8&lang=scss&scoped=true&\"","import request from 'assets/js/network';\nimport Song from 'assets/js/class/Song';\n\nfunction extractSongInfo(item) {\n  let maxBr = 0;\n  if (item.privilege) {\n    maxBr = item.privilege.maxbr;\n  } else if (item.h) {\n    maxBr = item.h.br;\n  } else if (item.m) {\n    maxBr = item.m.br;\n  } else {\n    maxBr = item.l.br;\n  }\n  return {\n    id: item.id,\n    albumId: item.al.id,\n    albumName: item.al.name,\n    singerName: item.ar.map((val) => val.name),\n    name: item.name,\n    maxBr,\n  };\n}\n\nasync function getSingerSongList(options) {\n  try {\n    const res = await request({\n      url: '/artist/songs',\n      params: {\n        order: 'hot',\n        offset: options.offset || 0,\n        limit: options.limit || 30,\n        id: options.id,\n      },\n    });\n    const { more } = res;\n    const songList = res.songs.map((item) => new Song(extractSongInfo(item)));\n    return { songList, more };\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nasync function getRecommendSongList(id) {\n  try {\n    const res = await request({\n      url: '/playlist/detail',\n      params: {\n        id,\n      },\n    });\n    return {\n      songList: res.playlist.tracks.map((item) => new Song(extractSongInfo(item))),\n      songIdList: res.playlist.trackIds.map((item) => item.id),\n    };\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nasync function getSongDetail(ids) {\n  try {\n    const res = await request({\n      url: '/song/detail/',\n      params: {\n        ids,\n      },\n    });\n    const arr = res.songs.map((item, index) => {\n      const temp = item;\n      temp.privilege = res.privileges[index];\n      return extractSongInfo(temp);\n    });\n    return arr;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nasync function getSongPlayInfo(id, br, albumId) {\n  try {\n    const { url } = (await request({\n      url: '/song/url',\n      params: {\n        id,\n        br,\n      },\n    })).data[0];\n    const { lyric } = (await request({\n      url: '/lyric',\n      params: {\n        id,\n      },\n    })).lrc;\n    const { picUrl } = (await request({\n      url: '/album',\n      params: {\n        id: albumId,\n      },\n    })).album;\n    return {\n      url,\n      lyric,\n      picUrl,\n    };\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nexport {\n  getSingerSongList,\n  getSongPlayInfo,\n  getRecommendSongList,\n  getSongDetail,\n  extractSongInfo,\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseConfirm.vue?vue&type=style&index=0&id=1acaf001&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSearchBar.vue?vue&type=style&index=0&id=150e46ba&lang=scss&scoped=true&\"","import request from 'assets/js/network';\n\nasync function getSongPlayInfo(id, br, albumId) {\n  try {\n    const { url } = (await request({\n      url: '/song/url',\n      params: {\n        id,\n        br,\n      },\n    })).data[0];\n    const { lyric } = (await request({\n      url: '/lyric',\n      params: {\n        id,\n      },\n    })).lrc;\n    const { picUrl } = (await request({\n      url: '/album',\n      params: {\n        id: albumId,\n      },\n    })).album;\n    return {\n      url,\n      lyric,\n      picUrl,\n    };\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nexport default getSongPlayInfo;\n","import getSongPlayInfo from 'api/song/song1';\n\nclass Song {\n  constructor({\n    id,\n    albumId,\n    albumName,\n    singerName,\n    name,\n    maxBr,\n  }) {\n    this.id = id;\n    this.albumId = albumId;\n    this.albumName = albumName;\n    this.singerName = singerName;\n    this.name = name;\n    this.enable = false;\n    this.url = '';\n    this.maxBr = maxBr;\n    this.lyric = '';\n    this.icon = '';\n    this.songTime = 0;\n    this.loved = false;\n  }\n\n  async getPlayInfo() {\n    try {\n      const res = await getSongPlayInfo(this.id, this.maxBr, this.albumId);\n      ({\n        url: this.url,\n        lyric: this.lyric,\n        picUrl: this.icon,\n      } = res);\n      this._getSongTime();\n      this.enable = true;\n      return Promise.resolve();\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  }\n\n  _getSongTime() {\n    const endIndex = this.lyric.lastIndexOf(']');\n    const startIndex = this.lyric.lastIndexOf('[') + 1;\n    const timeString = this.lyric.slice(startIndex, endIndex);\n    const minutes = parseInt(timeString.substr(0, 2), 10);\n    const seconds = parseInt(timeString.substr(3, 2), 10);\n    const milliseconds = parseInt(timeString.substr(6, 3), 10);\n    const totalMilliseconds = minutes * 60 * 1000 + seconds * 1000 + milliseconds;\n    this.songTime = totalMilliseconds;\n    this.minutes = minutes;\n    this.seconds = seconds;\n    this.milliseconds = milliseconds;\n  }\n}\n\nexport default Song;\n"],"sourceRoot":""}